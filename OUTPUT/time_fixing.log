[2025-07-25 00:16:08] [sglang_test_framework] [INFO] SGLang Testing Framework v1.0.0 initialized with log level: DEBUG
[2025-07-25 00:16:11] [asyncio] [DEBUG] Using selector: EpollSelector
[2025-07-25 00:16:11] [__main__] [INFO] Launching server...
[2025-07-25 00:16:11] [sglang_test_framework.core.server_manager] [INFO] Starting server node_1 with command: python -m sglang.launch_server --model-path /data/pretrained_models/Llama-2-7b-hf --port 30000 --host 0.0.0.0 --mem-fraction-static 0.9 --max-running-requests 256 --chunked-prefill-size 8192 --max-prefill-tokens 16384 --schedule-conservativeness 1.0 --tp-size 1 --tokenizer-mode auto --dtype auto --load-format auto --log-level info --enable-metrics
[2025-07-25 00:16:35] [sglang_test_framework.core.server_manager] [INFO] Server node_1 started successfully in 24.0s
[2025-07-25 00:16:35] [sglang_test_framework.core.request_generator] [INFO] Generating 10 requests from dataset 'random'...
[2025-07-25 00:16:35] [sglang_test_framework.core.request_generator] [INFO] Generating random requests with input_len=100, output_len=50, range_ratio=0.5
[2025-07-25 00:16:35] [sglang_test_framework.core.request_generator] [INFO] Successfully generated 10 random requests
[2025-07-25 00:16:35] [sglang_test_framework.core.request_generator] [INFO] Generating Poisson arrivals with rate=5.0 req/s
[2025-07-25 00:16:35] [sglang_test_framework.core.request_generator] [INFO] Total test duration: 1.2 seconds
[2025-07-25 00:16:35] [sglang_test_framework.core.metrics_collector] [INFO] Started metrics collection
[2025-07-25 00:16:35] [sglang_test_framework.core.metrics_collector] [INFO] Enabled incremental saving to results/timing_test/results every 5 requests
[2025-07-25 00:16:35] [sglang_test_framework.core.request_generator] [DEBUG] RequestSender session created with connection pool limit=100
[2025-07-25 00:16:35] [__main__] [INFO] Sending request 1/10
[2025-07-25 00:16:35] [sglang_test_framework.core.request_generator] [DEBUG] Sending request req_0 to http://localhost:30000/generate at 1753373795.8878913
[2025-07-25 00:16:35] [sglang_test_framework.core.request_generator] [DEBUG] Posting request req_0 with payload: {'text': 'Random prompt 0 xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx', 'sampling_params': {'temperature': 0.0, 'max_new_tokens': 26, 'ignore_eos': True}, 'stream': True}
[2025-07-25 00:16:35] [sglang_test_framework.core.request_generator] [DEBUG] Got response status 200 for request req_0
[2025-07-25 00:16:35] [sglang_test_framework.core.request_generator] [DEBUG] Handling stream response for request req_0
[2025-07-25 00:16:36] [sglang_test_framework.core.request_generator] [DEBUG] Request req_0 received DONE after 27 chunks
[2025-07-25 00:16:36] [sglang_test_framework.core.request_generator] [DEBUG] Request req_0 completed: 87 chars, 27 chunks, TTFT=157.7ms
[2025-07-25 00:16:36] [__main__] [INFO] Request req_0:
[2025-07-25 00:16:36] [__main__] [INFO]   Queue time: 0.1 ms
[2025-07-25 00:16:36] [__main__] [INFO]   Server latency: 0.0 ms
[2025-07-25 00:16:36] [__main__] [INFO]   Total latency: 0.0 ms
[2025-07-25 00:16:36] [sglang_test_framework.core.request_generator] [DEBUG] RequestSender session closed
[2025-07-25 00:16:36] [__main__] [ERROR] Test failed: Server latency out of range: 0.0
Traceback (most recent call last):
  File "/home/lg/sglang/sglang_test_framework/test_timing_fix.py", line 123, in <module>
    asyncio.run(test_timing_fixes())
  File "/home/lg/.conda/envs/sglang_test/lib/python3.10/asyncio/runners.py", line 44, in run
    return loop.run_until_complete(main)
  File "/home/lg/.conda/envs/sglang_test/lib/python3.10/asyncio/base_events.py", line 649, in run_until_complete
    return future.result()
  File "/home/lg/sglang/sglang_test_framework/test_timing_fix.py", line 89, in test_timing_fixes
    assert 0 < result.server_latency_ms < 60000, f"Server latency out of range: {result.server_latency_ms}"
AssertionError: Server latency out of range: 0.0
[2025-07-25 00:16:36] [sglang_test_framework.core.server_manager] [INFO] Stopping server node_1
